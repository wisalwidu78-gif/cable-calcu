<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Cable Calculator">
  <meta name="theme-color" content="#1a1a1a">
  <title>Cable Calculator V1.01</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkNhYmxlIENhbGN1bGF0b3IiLAogICJzaG9ydF9uYW1lIjogIkNhYmxlQ2FsYyIsCiAgImRlc2NyaXB0aW9uIjogIlBpeGVsIFN0cmluZyBDYWJsZSBDYWxjdWxhdG9yIGZvciBQWEw0MCBhbmQgUFhMNjAiLAogICJzdGFydF91cmwiOiAiLiIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiIzFhMWExYSIsCiAgInRoZW1lX2NvbG9yIjogIiMxYTFhMWEiLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXHPRE5uSWlCb1pXbG5hSFE5SWpVeE1pSTJDaUFnUEhKbFkzUWdkMmxrZEdnOUlqVXhNaUlnYUdWcFoyaDBQU0kxTVRJaUlHWnBiR3c5SWlNeFlURmhNV0VpTHo0S0lDQThkR1Y0ZENCNFBTSTFNQ1VpSUhrOUlqVXdKU0lnWm1sc2JEMGlJMlptWmlJZ1ptOXVkQzF6YVhwbFBTSTJNQ0lnWm05dWRDMW1ZVzFwYkhsOUltMXZibTl6Y0dGalpTSWdabTl1ZEMxM1pXbG5hSFE5SW1KdmJHUWlJSFJsZUhRdFlXNWphRzl5UFNKdGFXUmtiR1VpUGp3dlkzUjBQand2ZEdWNGRENEtQQzl6ZG1jKyIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0KICBdCn0=">
  
  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIj4KICA8cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9iNTEyIiBmaWxsPSIjMWExYTFhIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZpbGw9IiNmZjhiMzMiIGZvbnQtc2l6ZT0iNjAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtd2VpZ2h0PSJib2xkIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj5DQzwvdGV4dD4KPC9zdmc+">
  
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    
    * {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    body {
      margin: 0;
      padding: 0;
      background: #0a0a0a;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overscroll-behavior: none;
    }
    
    #root {
      width: 100%;
      min-height: 100vh;
    }
    
    /* Prevent zoom on input focus */
    input[type="number"] {
      font-size: 16px !important;
    }
    
    /* Custom scrollbar - Industrial style */
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: #1a1a1a;
    }
    
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff8b33 0%, #ff6b00 100%);
      border-radius: 5px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #ff9d4d 0%, #ff7b1a 100%);
    }
    
    /* 3D Card Effect */
    .card-3d {
      transform-style: preserve-3d;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card-3d:hover {
      transform: translateY(-2px);
    }
    
    /* Glass morphism effect */
    .glass {
      background: rgba(42, 42, 42, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 139, 51, 0.1);
    }
    
    /* Glow effect */
    .glow-orange {
      box-shadow: 0 0 20px rgba(255, 139, 51, 0.3);
    }
    
    /* Metallic gradient */
    .metallic {
      background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 50%, #2a2a2a 100%);
    }
  </style>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'industrial-dark': '#0a0a0a',
            'industrial-gray': '#1a1a1a',
            'industrial-light': '#2a2a2a',
            'industrial-orange': '#ff8b33',
            'industrial-orange-dark': '#ff6b00',
          }
        }
      }
    }
  </script>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // Icon Components
    const ChevronRight = () => (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    );

    const Plus = () => (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
    );

    const Trash2 = () => (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <polyline points="3 6 5 6 21 6"></polyline>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        <line x1="10" y1="11" x2="10" y2="17"></line>
        <line x1="14" y1="11" x2="14" y2="17"></line>
      </svg>
    );

    const Calculator = () => (
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect>
        <line x1="8" y1="6" x2="16" y2="6"></line>
        <line x1="8" y1="10" x2="8" y2="10.01"></line>
        <line x1="12" y1="10" x2="12" y2="10.01"></line>
        <line x1="16" y1="10" x2="16" y2="10.01"></line>
        <line x1="8" y1="14" x2="8" y2="14.01"></line>
        <line x1="12" y1="14" x2="12" y2="14.01"></line>
        <line x1="16" y1="14" x2="16" y2="14.01"></line>
        <line x1="8" y1="18" x2="8" y2="18.01"></line>
        <line x1="12" y1="18" x2="12" y2="18.01"></line>
        <line x1="16" y1="18" x2="16" y2="18.01"></line>
      </svg>
    );

    const Zap = () => (
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
      </svg>
    );

    function CableCalculatorApp() {
      const [screen, setScreen] = useState('home');
      const [pixelType, setPixelType] = useState('');

      const goToCalculator = (type) => {
        setPixelType(type);
        setScreen(type);
      };

      return (
        <div className="min-h-screen bg-industrial-dark">
          {screen === 'home' && <HomeScreen onSelect={goToCalculator} />}
          {screen === 'pxl40' && <CalculatorScreen pixelType="PXL40" onBack={() => setScreen('home')} />}
          {screen === 'pxl60' && <CalculatorScreen pixelType="PXL60" onBack={() => setScreen('home')} />}
        </div>
      );
    }

    function HomeScreen({ onSelect }) {
      return (
        <div className="flex flex-col items-center justify-center min-h-screen p-6">
          <div className="metallic rounded-3xl shadow-2xl p-8 w-full max-w-md border border-industrial-light card-3d">
            <div className="text-center mb-8">
              <div className="bg-gradient-to-br from-industrial-orange to-industrial-orange-dark w-24 h-24 rounded-2xl mx-auto mb-4 flex items-center justify-center glow-orange transform rotate-3">
                <Calculator />
              </div>
              <h1 className="text-4xl font-bold text-white mb-2 tracking-tight">Cable Calculator</h1>
              <p className="text-gray-400 text-sm font-medium">V1.01 ‚Ä¢ Industrial Edition</p>
              <div className="mt-2 inline-flex items-center gap-1 px-3 py-1 bg-industrial-orange/10 rounded-full border border-industrial-orange/20">
                <Zap />
                <span className="text-industrial-orange text-xs font-semibold">VERIFIED FORMULAS</span>
              </div>
            </div>

            <div className="space-y-4">
              <button
                onClick={() => onSelect('pxl40')}
                className="w-full bg-gradient-to-r from-industrial-light to-industrial-gray hover:from-industrial-gray hover:to-industrial-light text-white rounded-2xl p-6 flex items-center justify-between transition-all transform active:scale-98 shadow-xl border border-industrial-orange/20 hover:border-industrial-orange/40 card-3d group"
              >
                <div className="text-left">
                  <div className="text-2xl font-bold group-hover:text-industrial-orange transition-colors">Pixel 40</div>
                  <div className="text-sm text-gray-400">Plastic ‚Ä¢ Verified ‚úì</div>
                </div>
                <div className="text-industrial-orange">
                  <ChevronRight />
                </div>
              </button>

              <button
                onClick={() => onSelect('pxl60')}
                className="w-full bg-gradient-to-r from-industrial-light to-industrial-gray hover:from-industrial-gray hover:to-industrial-light text-white rounded-2xl p-6 flex items-center justify-between transition-all transform active:scale-98 shadow-xl border border-industrial-orange/20 hover:border-industrial-orange/40 card-3d group"
              >
                <div className="text-left">
                  <div className="text-2xl font-bold group-hover:text-industrial-orange transition-colors">Pixel 60</div>
                  <div className="text-sm text-gray-400">Standard ‚Ä¢ Verified ‚úì</div>
                </div>
                <div className="text-industrial-orange">
                  <ChevronRight />
                </div>
              </button>
            </div>

            <div className="mt-6 pt-6 border-t border-industrial-light">
              <p className="text-gray-500 text-xs text-center">
                Formulas verified with production ‚Ä¢ Safe for work orders
              </p>
            </div>
          </div>
        </div>
      );
    }

    function CalculatorScreen({ pixelType, onBack }) {
      const [strings, setStrings] = useState([
        {
          id: 1,
          pitchLength: '',
          leadInLength: '',
          leadOutLength: '',
          numStrings: '',
          ledsPerString: ''
        }
      ]);

      const addStringType = () => {
        setStrings([
          ...strings,
          {
            id: Date.now(),
            pitchLength: '',
            leadInLength: '',
            leadOutLength: '',
            numStrings: '',
            ledsPerString: ''
          }
        ]);
      };

      const removeStringType = (id) => {
        if (strings.length > 1) {
          setStrings(strings.filter(s => s.id !== id));
        }
      };

      const updateString = (id, field, value) => {
        setStrings(strings.map(s => 
          s.id === id ? { ...s, [field]: value } : s
        ));
      };

      const calculateCableLength = (woLength, cableType) => {
        const length = parseFloat(woLength) || 0;
        
        if (pixelType === 'PXL40') {
          if (cableType === 'pitch') {
            return Math.max(0, length - 15);
          } else {
            return length + 54.5;
          }
        } else {
          if (cableType === 'pitch') {
            return Math.max(0, length - 20);
          } else {
            return length + 55;
          }
        }
      };

      const calculateQuantities = (string) => {
        const numStrings = parseInt(string.numStrings) || 0;
        const ledsPerString = parseInt(string.ledsPerString) || 0;
        const pitchCablesPerString = Math.max(0, ledsPerString - 1);
        
        return {
          leadIn: numStrings,
          leadOut: numStrings,
          pitch: numStrings * pitchCablesPerString
        };
      };

      const calculateTotalLength = (string) => {
        const qty = calculateQuantities(string);
        const pitchCut = calculateCableLength(string.pitchLength, 'pitch');
        const leadInCut = calculateCableLength(string.leadInLength, 'leadIn');
        const leadOutCut = calculateCableLength(string.leadOutLength, 'leadOut');
        
        return {
          pitch: pitchCut * qty.pitch,
          leadIn: leadInCut * qty.leadIn,
          leadOut: leadOutCut * qty.leadOut,
          total: (pitchCut * qty.pitch) + (leadInCut * qty.leadIn) + (leadOutCut * qty.leadOut)
        };
      };

      const getTotalQuantities = () => {
        return strings.reduce((totals, string) => {
          const qty = calculateQuantities(string);
          return {
            leadIn: totals.leadIn + qty.leadIn,
            leadOut: totals.leadOut + qty.leadOut,
            pitch: totals.pitch + qty.pitch
          };
        }, { leadIn: 0, leadOut: 0, pitch: 0 });
      };

      const getGrandTotalLength = () => {
        return strings.reduce((total, string) => {
          const lengths = calculateTotalLength(string);
          return total + lengths.total;
        }, 0);
      };

      const totals = getTotalQuantities();
      const grandTotal = getGrandTotalLength();

      return (
        <div className="min-h-screen bg-industrial-dark pb-8">
          {/* Header */}
          <div className="bg-gradient-to-r from-industrial-gray via-industrial-light to-industrial-gray text-white p-6 shadow-2xl sticky top-0 z-10 border-b-2 border-industrial-orange/30">
            <button onClick={onBack} className="mb-3 text-white hover:text-industrial-orange flex items-center active:opacity-70 transition-colors">
              <span className="text-2xl mr-2">‚Üê</span> 
              <span className="font-semibold">Back</span>
            </button>
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-3xl font-bold tracking-tight">{pixelType} Calculator</h1>
                <p className="text-sm text-industrial-orange mt-1 font-medium">
                  {pixelType === 'PXL40' ? 'Pitch: -15mm | Lead In/Out: +54.5mm' : 'Pitch: -20mm | Lead In/Out: +55mm'}
                </p>
              </div>
              <div className="text-right">
                <div className="text-xs text-gray-400">Version</div>
                <div className="text-lg font-bold text-industrial-orange">1.01</div>
              </div>
            </div>
          </div>

          <div className="p-4 space-y-4 max-w-6xl mx-auto">
            {/* String Configurations */}
            {strings.map((string, index) => {
              const totalLengths = calculateTotalLength(string);
              
              return (
                <div key={string.id} className="metallic rounded-2xl shadow-2xl p-6 border border-industrial-orange/20 card-3d">
                  <div className="flex justify-between items-center mb-4">
                    <div className="flex items-center gap-3">
                      <div className="w-10 h-10 rounded-lg bg-gradient-to-br from-industrial-orange to-industrial-orange-dark flex items-center justify-center font-bold text-white text-lg shadow-lg">
                        {index + 1}
                      </div>
                      <h2 className="text-xl font-bold text-white">
                        String Type {index + 1}
                      </h2>
                    </div>
                    {strings.length > 1 && (
                      <button
                        onClick={() => removeStringType(string.id)}
                        className="text-red-400 hover:text-red-300 p-2 hover:bg-red-500/10 rounded-lg transition-all active:opacity-70"
                      >
                        <Trash2 />
                      </button>
                    )}
                  </div>

                  {/* Work Order Inputs */}
                  <div className="glass rounded-xl p-4 mb-4">
                    <h3 className="font-semibold text-industrial-orange mb-3 flex items-center gap-2">
                      <span className="w-1 h-4 bg-industrial-orange rounded"></span>
                      Work Order Lengths (mm)
                    </h3>
                    <div className="grid grid-cols-1 gap-3">
                      <div>
                        <label className="block text-sm font-medium text-gray-300 mb-2">
                          Pitch Cable Length
                        </label>
                        <input
                          type="number"
                          inputMode="decimal"
                          value={string.pitchLength}
                          onChange={(e) => updateString(string.id, 'pitchLength', e.target.value)}
                          className="w-full px-4 py-3 bg-industrial-light border-2 border-industrial-orange/30 rounded-lg focus:ring-2 focus:ring-industrial-orange focus:border-industrial-orange text-white placeholder-gray-500 transition-all"
                          placeholder="e.g., 150"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-300 mb-2">
                          Lead-In Cable Length
                        </label>
                        <input
                          type="number"
                          inputMode="decimal"
                          value={string.leadInLength}
                          onChange={(e) => updateString(string.id, 'leadInLength', e.target.value)}
                          className="w-full px-4 py-3 bg-industrial-light border-2 border-industrial-orange/30 rounded-lg focus:ring-2 focus:ring-industrial-orange focus:border-industrial-orange text-white placeholder-gray-500 transition-all"
                          placeholder="e.g., 160"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-300 mb-2">
                          Lead-Out Cable Length
                        </label>
                        <input
                          type="number"
                          inputMode="decimal"
                          value={string.leadOutLength}
                          onChange={(e) => updateString(string.id, 'leadOutLength', e.target.value)}
                          className="w-full px-4 py-3 bg-industrial-light border-2 border-industrial-orange/30 rounded-lg focus:ring-2 focus:ring-industrial-orange focus:border-industrial-orange text-white placeholder-gray-500 transition-all"
                          placeholder="e.g., 160"
                        />
                      </div>
                    </div>
                  </div>

                  {/* String Configuration */}
                  <div className="glass rounded-xl p-4 mb-4">
                    <h3 className="font-semibold text-industrial-orange mb-3 flex items-center gap-2">
                      <span className="w-1 h-4 bg-industrial-orange rounded"></span>
                      String Configuration
                    </h3>
                    <div className="grid grid-cols-1 gap-3">
                      <div>
                        <label className="block text-sm font-medium text-gray-300 mb-2">
                          Number of Strings
                        </label>
                        <input
                          type="number"
                          inputMode="numeric"
                          value={string.numStrings}
                          onChange={(e) => updateString(string.id, 'numStrings', e.target.value)}
                          className="w-full px-4 py-3 bg-industrial-light border-2 border-industrial-orange/30 rounded-lg focus:ring-2 focus:ring-industrial-orange focus:border-industrial-orange text-white placeholder-gray-500 transition-all"
                          placeholder="e.g., 100"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-300 mb-2">
                          LEDs per String
                        </label>
                        <input
                          type="number"
                          inputMode="numeric"
                          value={string.ledsPerString}
                          onChange={(e) => updateString(string.id, 'ledsPerString', e.target.value)}
                          className="w-full px-4 py-3 bg-industrial-light border-2 border-industrial-orange/30 rounded-lg focus:ring-2 focus:ring-industrial-orange focus:border-industrial-orange text-white placeholder-gray-500 transition-all"
                          placeholder="e.g., 10"
                        />
                      </div>
                    </div>
                  </div>

                  {/* Calculated Results */}
                  <div className="bg-gradient-to-br from-industrial-orange/20 to-industrial-orange-dark/20 rounded-xl p-4 border border-industrial-orange/30">
                    <h3 className="font-semibold text-white mb-3 flex items-center gap-2">
                      <span className="text-industrial-orange">‚úÇÔ∏è</span> Cut Lengths & Quantities
                    </h3>
                    <div className="grid grid-cols-1 gap-3">
                      <ResultBox
                        label="Pitch Cable"
                        length={calculateCableLength(string.pitchLength, 'pitch')}
                        quantity={calculateQuantities(string).pitch}
                        totalLength={totalLengths.pitch}
                      />
                      <ResultBox
                        label="Lead-In Cable"
                        length={calculateCableLength(string.leadInLength, 'leadIn')}
                        quantity={calculateQuantities(string).leadIn}
                        totalLength={totalLengths.leadIn}
                      />
                      <ResultBox
                        label="Lead-Out Cable"
                        length={calculateCableLength(string.leadOutLength, 'leadOut')}
                        quantity={calculateQuantities(string).leadOut}
                        totalLength={totalLengths.leadOut}
                      />
                    </div>
                    
                    {/* Total Length for this String Type */}
                    {totalLengths.total > 0 && (
                      <div className="mt-4 pt-4 border-t border-industrial-orange/30">
                        <div className="flex justify-between items-center">
                          <span className="text-sm font-medium text-gray-300">Total Cable Length (this type):</span>
                          <span className="text-2xl font-bold text-industrial-orange">
                            {(totalLengths.total / 1000).toFixed(2)} m
                          </span>
                        </div>
                        <div className="text-xs text-gray-400 text-right mt-1">
                          {totalLengths.total.toFixed(0)} mm
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              );
            })}

            {/* Add Another String Type Button */}
            <button
              onClick={addStringType}
              className="w-full glass hover:bg-industrial-light text-white font-semibold py-4 px-6 rounded-2xl shadow-xl border-2 border-dashed border-industrial-orange/40 hover:border-industrial-orange flex items-center justify-center transition-all card-3d active:scale-98"
            >
              <Plus />
              <span className="ml-2">Add Another String Type</span>
            </button>

            {/* Grand Total Summary */}
            {strings.length > 1 && (
              <div className="bg-gradient-to-br from-industrial-orange to-industrial-orange-dark text-white rounded-2xl shadow-2xl p-6 border-2 border-industrial-orange/50 card-3d glow-orange">
                <h2 className="text-2xl font-bold mb-4 flex items-center gap-2">
                  <span>üìä</span> Grand Total Summary
                </h2>
                <div className="grid grid-cols-1 gap-4 mb-4">
                  <div className="bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20">
                    <div className="text-3xl font-bold">{totals.pitch}</div>
                    <div className="text-sm font-medium mt-1 opacity-90">Pitch Cables</div>
                  </div>
                  <div className="bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20">
                    <div className="text-3xl font-bold">{totals.leadIn}</div>
                    <div className="text-sm font-medium mt-1 opacity-90">Lead-In Cables</div>
                  </div>
                  <div className="bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20">
                    <div className="text-3xl font-bold">{totals.leadOut}</div>
                    <div className="text-sm font-medium mt-1 opacity-90">Lead-Out Cables</div>
                  </div>
                </div>
                
                {/* Grand Total Cable Length */}
                <div className="bg-white/20 backdrop-blur-sm rounded-xl p-5 border-2 border-white/30">
                  <div className="text-center">
                    <div className="text-sm font-semibold uppercase tracking-wider mb-2 opacity-90">
                      Total Cable Required
                    </div>
                    <div className="text-5xl font-bold mb-1">
                      {(grandTotal / 1000).toFixed(2)} m
                    </div>
                    <div className="text-sm opacity-75">
                      ({grandTotal.toFixed(0)} mm)
                    </div>
                  </div>
                </div>
              </div>
            )}

            {/* Single String Type - Total Length Display */}
            {strings.length === 1 && grandTotal > 0 && (
              <div className="bg-gradient-to-br from-industrial-orange to-industrial-orange-dark text-white rounded-2xl shadow-2xl p-6 border-2 border-industrial-orange/50 card-3d glow-orange">
                <h2 className="text-2xl font-bold mb-4 flex items-center gap-2">
                  <span>üìè</span> Total Cable Required
                </h2>
                <div className="bg-white/20 backdrop-blur-sm rounded-xl p-6 border-2 border-white/30 text-center">
                  <div className="text-5xl font-bold mb-2">
                    {(grandTotal / 1000).toFixed(2)} m
                  </div>
                  <div className="text-sm opacity-75">
                    ({grandTotal.toFixed(0)} mm total length)
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    }

    function ResultBox({ label, length, quantity, totalLength }) {
      return (
        <div className="bg-industrial-gray rounded-lg p-4 border border-industrial-orange/20 hover:border-industrial-orange/40 transition-all">
          <div className="text-sm font-medium text-industrial-orange mb-3">{label}</div>
          <div className="space-y-2">
            <div className="flex justify-between items-center">
              <span className="text-xs text-gray-400">Cut length:</span>
              <span className="text-xl font-bold text-white">{length.toFixed(1)} mm</span>
            </div>
            <div className="flex justify-between items-center pt-2 border-t border-industrial-light">
              <span className="text-xs text-gray-400">Quantity:</span>
              <span className="text-lg font-bold text-industrial-orange">{quantity}</span>
            </div>
            {totalLength > 0 && (
              <div className="flex justify-between items-center pt-2 border-t border-industrial-light">
                <span className="text-xs text-gray-400">Total length:</span>
                <span className="text-md font-bold text-white">
                  {(totalLength / 1000).toFixed(2)} m
                </span>
              </div>
            )}
          </div>
        </div>
      );
    }

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<CableCalculatorApp />);
  </script>

  <!-- Service Worker for PWA -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('data:text/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZXZlbnQgPT4gewogIGV2ZW50LndhaXRVbnRpbChzZWxmLnNraXBXYWl0aW5nKCkpOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCBldmVudCA9PiB7CiAgZXZlbnQud2FpdFVudGlsKHNlbGYuY2xpZW50cy5jbGFpbSgpKTsKfSk7CgpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZXZlbnQgPT4gewogIGV2ZW50LnJlc3BvbmRXaXRoKGZldGNoKGV2ZW50LnJlcXVlc3QpKTsKfSk7')
          .then(() => console.log('Service Worker registered'))
          .catch(err => console.log('Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>
